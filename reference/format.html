<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Read and Reformat Data — format • dcifer</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Read and Reformat Data — format"><meta name="description" content="readDat and readAfreq read data and population allele
frequencies from csv files and reformat them for further processing.
formatDat and formatAfreq reformat corresponding data frames.
Original data are assumed to be in a long format, with one row per allele."><meta property="og:description" content="readDat and readAfreq read data and population allele
frequencies from csv files and reformat them for further processing.
formatDat and formatAfreq reformat corresponding data frames.
Original data are assumed to be in a long format, with one row per allele."><meta property="og:image" content="https://eppicenter.github.io/dcifer/logo.svg"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">dcifer</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.3.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/vigArticle.html">dcifer vignette</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/EPPIcenter/dcifer/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Read and Reformat Data</h1>
      <small class="dont-index">Source: <a href="https://github.com/EPPIcenter/dcifer/blob/main/R/prep.R" class="external-link"><code>R/prep.R</code></a></small>
      <div class="d-none name"><code>format.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>readDat</code> and <code>readAfreq</code> read data and population allele
frequencies from <code>csv</code> files and reformat them for further processing.
<code>formatDat</code> and <code>formatAfreq</code> reformat corresponding data frames.
Original data are assumed to be in a long format, with one row per allele.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">readDat</span><span class="op">(</span><span class="va">sfile</span>, <span class="va">svar</span>, <span class="va">lvar</span>, <span class="va">avar</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">formatDat</span><span class="op">(</span><span class="va">dlong</span>, <span class="va">svar</span>, <span class="va">lvar</span>, <span class="va">avar</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">readAfreq</span><span class="op">(</span><span class="va">afile</span>, <span class="va">lvar</span>, <span class="va">avar</span>, <span class="va">fvar</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">formatAfreq</span><span class="op">(</span><span class="va">aflong</span>, <span class="va">lvar</span>, <span class="va">avar</span>, <span class="va">fvar</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-sfile">sfile<a class="anchor" aria-label="anchor" href="#arg-sfile"></a></dt>
<dd><p>the name of the file containing sample data.</p></dd>


<dt id="arg-svar">svar<a class="anchor" aria-label="anchor" href="#arg-svar"></a></dt>
<dd><p>the name of the variable for sample ID.</p></dd>


<dt id="arg-lvar">lvar<a class="anchor" aria-label="anchor" href="#arg-lvar"></a></dt>
<dd><p>the name of the variable for locus/marker.</p></dd>


<dt id="arg-avar">avar<a class="anchor" aria-label="anchor" href="#arg-avar"></a></dt>
<dd><p>the name of the variable for allele/haplotype.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>additional arguments for <code><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv()</a></code>.</p></dd>


<dt id="arg-dlong">dlong<a class="anchor" aria-label="anchor" href="#arg-dlong"></a></dt>
<dd><p>a data frame containing sample data.</p></dd>


<dt id="arg-afile">afile<a class="anchor" aria-label="anchor" href="#arg-afile"></a></dt>
<dd><p>the name of the file containing population allele frequencies.</p></dd>


<dt id="arg-fvar">fvar<a class="anchor" aria-label="anchor" href="#arg-fvar"></a></dt>
<dd><p>the name of the variable for population allele frequiency.</p></dd>


<dt id="arg-aflong">aflong<a class="anchor" aria-label="anchor" href="#arg-aflong"></a></dt>
<dd><p>a data frame containing population allele frequencies.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>For <code>readDat</code> and <code>formatDat</code>, a list with elements
corresponding to samples. Each element of the list is itself a list of
binary vectors, one vector for each locus. For <code>readAfreq</code> and
<code>formatAfreq</code>, a list with elements corresponding to loci. The
frequencies at each locus are normalized and sum to 1. Samples, loci, and
alleles are ordered by their IDs/names.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="matchAfreq.html">matchAfreq</a></code> for making sure that the list containing
sample data is conformable to provided population allele frequencies.</p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">sfile</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"MozParagon.csv"</span>, package <span class="op">=</span> <span class="st">"dcifer"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">dsmp</span>  <span class="op">&lt;-</span> <span class="fu">readDat</span><span class="op">(</span><span class="va">sfile</span>, svar <span class="op">=</span> <span class="st">"sampleID"</span>, lvar <span class="op">=</span> <span class="st">"locus"</span>, avar <span class="op">=</span> <span class="st">"allele"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># OR, if the dataset is provided as an R data frame, e.g.</span></span></span>
<span class="r-in"><span><span class="va">dlong</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="va">sfile</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># reformat only:</span></span></span>
<span class="r-in"><span><span class="va">dsmp</span> <span class="op">&lt;-</span> <span class="fu">formatDat</span><span class="op">(</span><span class="va">dlong</span>, svar <span class="op">=</span> <span class="st">"sampleID"</span>, lvar <span class="op">=</span> <span class="st">"locus"</span>, avar <span class="op">=</span> <span class="st">"allele"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">afile</span>  <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"MozAfreq.csv"</span>, package <span class="op">=</span> <span class="st">"dcifer"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">afreq2</span> <span class="op">&lt;-</span> <span class="fu">readAfreq</span><span class="op">(</span><span class="va">afile</span>, lvar <span class="op">=</span> <span class="st">"locus"</span>, avar <span class="op">=</span> <span class="st">"allele"</span>, fvar <span class="op">=</span> <span class="st">"freq"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># OR, if allele frequencies are provided as an R data frame, e.g.</span></span></span>
<span class="r-in"><span><span class="va">aflong</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="va">afile</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># reformat only:</span></span></span>
<span class="r-in"><span><span class="va">afreq2</span> <span class="op">&lt;-</span> <span class="fu">formatAfreq</span><span class="op">(</span><span class="va">aflong</span>, lvar <span class="op">=</span> <span class="st">"locus"</span>, avar <span class="op">=</span> <span class="st">"allele"</span>, fvar <span class="op">=</span> <span class="st">"freq"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">dsmp2</span>  <span class="op">&lt;-</span> <span class="fu"><a href="matchAfreq.html">matchAfreq</a></span><span class="op">(</span><span class="va">dsmp</span>, <span class="va">afreq2</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Inna Gerlovina.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

